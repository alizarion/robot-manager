/*!
 * Copyright 2015 itesoft.
 * http://itesoft.com/
 *
 * showcase-quickstart, v0.0.1
 * A powerful music manager.*/
!function(){angular.module("MusicManager",["itesoft","ngRoute","ngSanitize","pascalprecht.translate","ui.bootstrap.dropdown"]).config(["$translateProvider","$translatePartialLoaderProvider",function(e,t){e.registerAvailableLanguageKeys(["en","fr","de"],{en_US:"en",en_GB:"en",fr_FR:"fr","fr-CA":"fr","de-DE":"de"}).determinePreferredLanguage(),e.useLoader("$translatePartialLoader",{urlTemplate:"assets/locale/{lang}/{part}-{lang}.json"}),e.useSanitizeValueStrategy()}]).run(["$rootScope","$route",function(e,t){e.$on("$routeChangeSuccess",function(){e.pageTitle=t.current.title})}]),angular.module("MusicManager").config(["$routeProvider",function(e){e.when("/music/poprock",{templateUrl:"app/features/music/poprock/poprockView.html",controller:"PoprockController",title:"MUSIC.POPROCK.TITLE",resolve:{translationPart:["TranslationService",function(e){return e("poprock")}]}}).when("/music/dance",{templateUrl:"app/features/music/dance/danceView.html",controller:"DanceController",title:"MUSIC.DANCE.TITLE",resolve:{translationPart:["TranslationService",function(e){return e("dance")}]}}).when("/playlist",{templateUrl:"app/features/playlist/playlistView.html",controller:"PlaylistController",title:"PLAYLIST.TITLE",resolve:{translationPart:["TranslationService",function(e){return e("playlist")}]}}).when("/reader",{templateUrl:"app/features/reader/readerView.html",controller:function(){},title:"MUSIC.READER.TITLE",resolve:{translationPart:["TranslationService",function(e){return e("reader")}]}}).otherwise({redirectTo:"/music/poprock"})}]),angular.module("MusicManager").controller("MainController",["$scope","$translate","AuthService",function(e,t,r){e.currentLanguage="fr_FR",e.authService=r,e.changeLanguage=function(r){e.currentLanguage=r,t.use(r)}}]),angular.module("MusicManager").service("TranslationService",["$q","$translate","$translatePartialLoader",function(e,t,r){return function(){return r.addPart("global"),angular.forEach(arguments,function(e){r.addPart(e)}),t.refresh()}}]),angular.module("MusicManager").factory("AuthService",["$rootScope",function(e){return e.user=null,{login:function(t){e.user=t},logout:function(){e.user=null},currentUser:function(){return e.user}}}]),angular.module("MusicManager").controller("LoginController",["$scope","AuthService",function(e,t){e.authService=t}]),angular.module("MusicManager").controller("PlaylistController",["$scope","$translate",function(e,t){function r(e,t){angular.forEach(e,function(e){var r=t.indexOf(e);t.splice(r,1)})}e.data=[{name:"Liste 1",description:"Ma liste 1",shared:!1},{name:"Liste 2",description:"Ma liste 2",shared:!0},{name:"Liste 3",description:"Ma liste 3",shared:!0},{name:"Liste 4",description:"Ma liste 4",shared:!1},{name:"Liste 5",description:"Ma liste 5",shared:!1}],e.masterDetails={},e.masterDetails={columnDefs:[{field:"name",displayName:t.instant("PLAYLIST.NAME_LABEL"),sortable:!0},{field:"description",displayName:t.instant("PLAYLIST.DESCRIPTION_LABEL"),sortable:!0},{field:"shared",displayName:t.instant("PLAYLIST.SHARED_LABEL"),sortable:!1}]},e.masterDetails.disableMultiSelect=!1,e.masterDetails.navAlert={title:t.instant("PLAYLIST.MODIFICATION_POPUP.TITLE"),text:t.instant("PLAYLIST.MODIFICATION_POPUP.MESSAGE")},e.deleteSelectedItems=function(){r(e.masterDetails.getSelectedItems(),e.data)},e.saveCurrentItem=function(){angular.copy(e.masterDetails.getCurrentItemWrapper().currentItem,e.data[e.masterDetails.getCurrentItemWrapper().index]),e.$broadcast("unlockCurrentItem")},e.undoChange=function(){e.masterDetails.undoChangeCurrentItem(),e.masterDetails.fillHeight()},e.addNewItem=function(){var t={name:"Liste "+(e.data.length+1),description:"Ma liste "+(e.data.length+1),shared:!0};e.data.push(t),e.masterDetails.setCurrentItem(t).then(function(t){e.$broadcast("lockCurrentItem",!1)},function(e){})},e.hasChanged=function(){return null!=e.masterDetails.getCurrentItemWrapper()?e.masterDetails.getCurrentItemWrapper().hasChanged:!1}}]),angular.module("MusicManager").controller("DanceController",["$scope",function(e){e.data=[{artist:"Major Lazer & DJ Snake",title:"Lean On"},{artist:"Calvin Harris",title:"Outside ft. Ellie Gouldind"},{artist:"Skrillex and Diplo",title:"Where are you now"},{artist:"Avicii",title:"Waiting for love"},{artist:"Calvin Harris & Disciples",title:"How Deep Is Your Love"},{artist:"OMI (Felix Jaehn Remix)",title:"Cheerleader"}]}]),angular.module("MusicManager").controller("PoprockController",["$scope",function(e){e.data=[{artist:"Carly Rae Jepsen",title:"I Really Like You"},{artist:"Kygo",title:"Firestone ft. Conrad Sewel"},{artist:"The Weeknd",title:"Can't Feel My Face"},{artist:"One Direction",title:"Drag Me Down"},{artist:"Demi Lovato",title:"Cool for the Summer"},{artist:"Taylor Swift",title:"Wildest Dreams"}]}])}();